# Добро пожаловать в мир Git!

## Что такое Git
**Git** - система контроля версий 

**Основные функции:**

- хранение истории изменений в виде отдельных ревизий
- возможность менять порядок ревизий, удалять версии, возвращать назад в историю
- анализ изменений: позволяет видеть кто когда куда вносит какие изменения

**В каких случаях используется:**

- для синхронизации изменений, сделанных разными участниками команды
- для хранения истории изменения файлов при командной работе
- для хранений нескольких версий проекта, над которым работает один человек

## Установка Git

Для установки программы на локальный компьютер, необходимо скачать установочный файл с [официального сайта](https://git-scm.com/download/win), выбрать файл, соответствующий разрядности системы. Настройки при установке по умолчанию. 

## Запуск Git

В списке программ необходимо выбрать и запустить Git Bash
После запуска откроется консоль, где USER_NAME - имя пользователя, а HOST_NAME - имя компьютера

## Настройка Git

Для настройки необходимо запустить консоль (Git Bash) и ввести следующие команды:
```
$ git config --global user.name "User Ivanov" 
# имя или ник нужно написать латиницей и в кавычках

$ git config --global user.email username@yandex.ru
# здесь нужно указать свой настоящий email
```
Все глобальные настройки Git хранит в файле .gitconfig в домашней директории. Команда запишет в этот файл указанные имя и почту

## Основные команды

### Навигация

___pwd___ (от англ. print working directory, «показать рабочую папку») — покажи, в какой я папке;

___ls___ (от англ. list directory contents, «отобразить содержимое директории») — покажи файлы и папки в текущей папке;

___ls -a___ — покажи также скрытые файлы и папки, названия которых начинаются с символа .;

___cd first-project___ (от англ. change directory, «сменить директорию») — перейди в папку first-project;

___cd first-project/html___ — перейди в папку html, которая находится в папке first-project;

___cd ..___ — перейди на уровень выше, в родительскую папку;

___cd ~ ___ — перейди в домашнюю директорию (/Users/Username);

___cd / ___ — перейди в корневую директорию.

### Работа с файлами и папками

_Создание_

___touch index.html___ (англ. touch, «коснуться») — создай файл index.html в текущей папке;

___touch index.html style.css script.js___ — если нужно создать сразу несколько файлов, можно напечатать их имена в одну строку через пробел;

___mkdir second-project___ (от англ. make directory, «создать директорию») — создай папку с именем second-project в текущей папке.

_Копирование и перемещение_

___cp file.txt ~/my-dir___ (от англ. copy, «копировать») — скопируй файл в другое место;

___mv file.txt ~/my-dir___ (от англ. move, «переместить») — перемести файл или папку в другое место.

_Чтение_

___cat file.txt___ (от англ. concatenate and print, «объединить и распечатать») — распечатай содержимое текстового файла file.txt.

_Удаление_

___rm about.html___ (от англ. remove, «удалить») — удали файл about.html;

___rmdir images___ (от англ. remove directory, «удалить директорию») — удали папку images;

___rm -r second-project___ (от англ. remove, «удалить» + recursive, «рекурсивный») — удали папку second-project и всё, что она содержит.


### Полезные возможности

Команды необязательно печатать и выполнять по очереди. Можно указать их списком — разделить двумя амперсандами (&&).
У консоли есть собственная память — буфер с несколькими последними командами. По ним можно перемещаться с помощью клавиш со стрелками вверх (↑) и вниз (↓).
Чтобы не вводить название файла или папки полностью, можно набрать первые символы имени и дважды нажать Tab. Если файл или папка есть в текущей директории, командная строка допишет путь сама.

Например, вы находитесь в папке dev. Начните вводить cd first и дважды нажмите Tab. Если папка first-project есть внутри dev, командная строка автоматически подставит её имя. Останется только нажать Enter.

## Использование Git

Чтобы полноценно использовать Git необходимо создать свой репозиторий.
Для начала нужно перейти в нужную папку, а затем запустить команду _git init_ 

```
$ cd ~/dev/first-project #перешли в нужную папку
$ git init # создали репозиторий 
```

Чтобы "разгитить" папку нужно ввести следующие команды:

```
$ cd <папка с репозиторием> #перешли в папку
$ rm -rf .git # удалили подпапку .git
```

Проверить состояние репозитория можно командой _git status_

Добавить файл в репозиторий _git add_ (без сохранения)

Добавить все файлы _git add --all_ (без сохранения)

Добавить текущую папку со всеми файлами _git add ._

Сделать коммит (добавить и сохранить файл) _git commit -m ‘комментарий, какое изменение было внесено’_ 

Просмотреть историю коммитов _git log_


# Синхронизация с GitHub

GitHub - платформа для хранения IT-проектов и совместной работы над ними с использованием Git

Для использования платформы, необходимо [зарегистрироваться на сайте](https://github.com/), указав тот же email адрес, что и при настройке локального Git и синхронизировать свой локальный репозиторий с удаленным.

## Генерация SSH-ключа

для связывания локального и удаленного гита необходимо сгенерировать SSH-ключ и привязать его к GitHub. Для этого нужно перейти в домашнюю директорию и ввести команды:

```$ cd ~ # перешли в домашнюю директорию
   $ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

### Инструкция по связыванию SSH-ключа и GitHub-аккаунта

1. После выполнения команды ssh-keygen в директории ~/.ssh будет создано два файла — id_ed25519 и id_ed25519.pub (или id_rsa и id_rsa.pub — в зависимости от того, какой алгоритм вы использовали):
id_ed25519/id_rsa — приватный ключ (файл без .pub в конце). Ни в коем случае не копируйте его и не делитесь им.
id_ed25519.pub/id_rsa.pub — публичный ключ (на это указывает расширение .pub).
2. Скопируйте содержимое файла с публичным ключом в буфер обмена.
3. Укажите место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите Enter.
4. Программа запросит кодовую фразу (англ. passphrase) для доступа к SSH-ключу. Вы можете оставить поле пустым. Для этого нажмите Enter, а затем ещё раз Enter для подтверждения.
5. На сайте GitHub в разделе Settings на боковой панели выбрать Deploy Keys
6. Нажать Add deploy Key
7. Дать ему любое название в поле Title
8. В поле Key вставить значение из буфера обмена
9. Поставить галку Allow write access и нажать кнопку Add key

## Связка локального и удаленного репозитория

1. Откройте консоль, перейдите в каталог локального репозитория и введите команду _git remote add_ (от англ. remote — «удалённый» и add — «добавить»).

``` $ cd ~/dev/first-project
$ git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git
``` 

Команде необходимо передать два параметра: имя удалённого репозитория и его URL. В качестве имени используйте слово origin. А URL вы скопировали со страницы удалённого репозитория.

2. Убедиться, что репозитории связаны, — _git remote -v_
3. Отправить изменения на удалённый репозиторий — _git push_

## Хэш - идентификатор коммита

1. Git преобразует информацию о коммитах с помощью алгоритма SHA-1 и для каждого из них рассчитывает уникальный идентификатор — хеш.
2. Хеш — основной идентификатор коммита и позволяет узнать его автора, дату и содержимое закоммиченных файлов.
3. Все хеши, а также таблицу соответствий _хеш → информация о коммите_ Git хранит в папке *.git.*

## Лог

1. Чтобы вызвать сокращенный лог, нужно использовать команду _git log --oneline_
2. В сокращённом логе выводятся сокращённые хеши — их можно использовать точно так же, как и полные

## HEAD

1. В папке .git есть служебный файл HEAD. Он указывает на последний коммит.
2. Вместо хеша последнего коммита можно написать слово HEAD — Git вас поймёт.

## Статусы файлов в Git

- untracked (неотслеживаемый) - новые файлы, у которых нет истории изменений
- staged (подготовленный) - те файлы, которые были добавлены с помощью команды _git add_
- tracked (отслеживаемый) - все файлы, изменения которых отслеживает Git (добавленные с помощью команд _git add_ , _git commit_)
- modified (измененный) - файлы, которые были изменены и не сохранены

### Жизненный цикл файла в Git

1. Файл только что создали. Git ещё не отслеживает содержимое этого файла. Состояние: _untracked_
2. Файл добавили в staging area с помощью git add. Состояние: _staged_ (+ _tracked_ ).
 	* Возможно, изменили файл ещё раз. Состояния: _staged, modified_ (+ _tracked_ ).
 	* Обратите внимание: staged и modified у одного файла, но у разных его версий.
 	* Ещё раз выполнили git add. Состояние: staged (+ tracked).
3. Сделали коммит с помощью git commit. Состояние: tracked.
4. Изменили файл. Состояние: modified (+ tracked).
5. Снова добавили в staging area с помощью git add. Состояния: staged (+ tracked).
6. Сделали коммит. Состояния: tracked.

### Git status

1. Команда git status всегда подскажет, что происходит с файлом: например, он добавлен в список «на коммит» или ещё вообще не отслеживается, или изменён: untracked, staged и modified.
2. git status подсказывает, какие команды можно выполнить, чтобы поменять состояние файла.